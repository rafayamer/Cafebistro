<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Casa Bistro ‚Äì Welcome</title>
<style>
  :root {
    --accent:#004643;
    --text:#f8fafc;
    --muted:#cbd5e1;
  }
  *{box-sizing:border-box;margin:0;padding:0}
  body{
    font-family:system-ui,Segoe UI,Roboto,Arial;
    background:transparent;
    color:var(--text);
    min-height:100vh;
    overflow-x:hidden;
  }

  /* Panels - 30% transparency with glassmorphism + neon glow */
  .form-card, .card {
    width:100%;
    max-width:520px;
    background:rgba(0,70,67,0.3); /* 30% transparent green tint */
    color:var(--text);
    border-radius:20px;
    padding:26px;
    backdrop-filter:blur(14px) saturate(140%);
    box-shadow:0 0 25px rgba(0,70,67,0.4), inset 0 0 8px rgba(255,255,255,0.05);
    border:1px solid rgba(255,255,255,0.15);
  }

  .overlay{
    position:fixed;
    inset:0;
    display:grid;
    place-items:center;
    background:transparent;
    z-index:50;
  }

  .form-card h2{
    font-size:26px;
    font-weight:700;
    color:var(--text);
    text-shadow:0 0 12px rgba(0,70,67,0.8);
  }
  .form-sub{color:var(--muted);font-size:14px;margin:0 0 16px}
  .field{display:grid;gap:6px;margin-bottom:12px}
  .label{font-size:14px;color:#e2e8f0}
  .input{
    width:100%;
    padding:12px 14px;
    border-radius:12px;
    border:1px solid rgba(255,255,255,0.2);
    background:rgba(0,0,0,0.25);
    color:var(--text);
    font-size:16px;
    outline:none;
    transition:all .2s ease;
    backdrop-filter:blur(4px);
  }
  .input:focus{
    border-color:var(--accent);
    box-shadow:0 0 10px rgba(0,70,67,0.6);
  }

  /* Buttons - 60% transparency + neon glass glow */
  .btn-main, .btn, .cp, .open {
    display:flex;
    align-items:center;
    justify-content:center;
    gap:10px;
    padding:12px 16px;
    border-radius:12px;
    border:1px solid rgba(255,255,255,0.2);
    background:rgba(0,70,67,0.6); /* 60% transparent */
    color:#fff;
    font-weight:700;
    cursor:pointer;
    transition:all .3s ease;
    backdrop-filter:blur(10px) saturate(120%);
    text-decoration:none;
  }

  .btn-main:hover, .btn:hover, .cp:hover, .open:hover {
    box-shadow:0 0 15px rgba(0,70,67,0.8);
    transform:translateY(-2px);
  }

  .err{color:#fecaca;font-size:13px;min-height:18px;margin-top:6px}
  .note{color:var(--muted);font-size:12px;margin-top:8px;text-align:center;}
  .wrap{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px;}
  h1{color:var(--text);font-size:26px;text-shadow:0 0 10px rgba(0,70,67,0.7);}
  .sub{color:var(--muted);font-size:15px;margin:0 0 18px}
  .grid{display:grid;gap:12px}
  .wifiBox{
    background:rgba(0,70,67,0.3);
    border:1px dashed rgba(255,255,255,0.2);
    border-radius:14px;
    padding:14px;
    margin-top:14px;
    backdrop-filter:blur(12px);
  }
  .rowx{display:flex;gap:10px;align-items:center;justify-content:space-between}
  .pill{
    background:rgba(255,255,255,0.08);
    border-radius:10px;
    padding:10px 12px;
    font-size:14px;
    flex:1;
  }
  .banner{
    background:rgba(0,70,67,0.4);
    border-radius:10px;
    padding:10px 12px;
    font-size:13px;
    margin-top:10px;
    display:none;
  }
  .banner.show{display:block;}
  .hint{color:#e2e8f0;font-size:13px}
  .hidden-initial{visibility:hidden}
</style>
</head>
<body>

<!-- ===== Check-in Overlay ===== -->
<div id="checkinOverlay" class="overlay" role="dialog" aria-modal="true">
  <form id="checkinForm" class="form-card" novalidate>
    <h2>Welcome to Casa Bistro üëã</h2>
    <p class="form-sub">Please check in so we can serve you better.</p>

    <div class="field">
      <label class="label" for="name">Full Name</label>
      <input class="input" id="name" name="name" type="text" placeholder="e.g., Ayesha Khan" required minlength="2" maxlength="80" />
    </div>

    <div class="field">
      <label class="label" for="phone">WhatsApp / Phone</label>
      <input class="input" id="phone" name="phone" type="tel" inputmode="tel"
             placeholder="0308 1234567 or +44 7000 111111" required pattern="^[0-9+()\s-]{8,20}$" />
    </div>

    <div class="err" id="formError"></div>
    <button id="submitBtn" class="btn-main" type="submit">
      <span id="btnText">Save & Continue</span>
      <span id="btnSpinner" aria-hidden="true" style="display:none">‚è≥</span>
    </button>
    <p class="note">By continuing you agree we may contact you about your visit and offers.</p>
  </form>
</div>

<!-- ===== Main Page ===== -->
<div id="mainRoot" class="wrap hidden-initial" aria-hidden="true">
  <div class="card">
    <h1>Welcome to Casa Bistro üëã</h1>
    <p class="sub">Choose an option below</p>

    <div class="grid">
      <a id="menuBtn" class="btn" href="#" target="_blank" rel="noopener">üìú Menu</a>
      <button id="wifiBtn" class="btn" type="button">üì∂ Join Wi-Fi</button>
    </div>

    <div id="wifiPanel" class="wifiBox" hidden>
      <div class="rowx">
        <div class="pill" id="ssidText">SSID</div>
        <button class="cp" id="copySsidBtn" type="button">Copy Name</button>
      </div>
      <div class="rowx" style="margin-top:8px">
        <div class="pill" id="passText">‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢</div>
        <button class="cp" id="copyPassBtn" type="button">Copy Password</button>
      </div>
      <button id="openWifi" class="open" type="button">Open Wi-Fi Settings</button>

      <div id="iosBanner" class="banner">
        <p><b>iPhone/iPad Users:</b> Click & hold QR code to join Wi-Fi.</p>
        <img id="wifiQR" src="qr.png" alt="Casa Bistro Wi-Fi QR"
             style="display:block;margin:10px auto;width:160px;height:160px;border-radius:12px;background:#fff;padding:6px;">
        <p style="font-size:13px;margin-top:8px;color:#e5e7eb">
          Or manually connect to <b id="ssidInline"></b> and paste the password you copied.
        </p>
      </div>

      <div class="hint">Tip: If your phone already knows this network, it should reconnect automatically.</div>
    </div>
    <p class="note">Trouble? Ask staff for help.</p>
  </div>
</div>
</body>
</html>
